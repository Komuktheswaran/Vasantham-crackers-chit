/* Enhanced Global Styles - Responsive, Light/Dark, Modern */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
  /* Light Theme Defaults */
  --primary-color: #1890ff;
  --secondary-color: #52c41a;
  --success-color: #52c41a;
  --warning-color: #faad14;
  --danger-color: #f5222d;
  --bg-light: #f8fafc;
  --bg-card: #ffffff;
  --text-main: #0f172a;
  --text-secondary: #64748b;
  --border-color: #e2e8f0;
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 12px 0 rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --border-radius-sm: 6px;
  --border-radius-base: 12px;
  --border-radius-lg: 16px;
  --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme="dark"] {
  /* Dark Theme Overrides */
  --bg-light: #0f1117;
  --bg-card: #161b22;
  --text-main: #f0f6fc;
  --text-secondary: #8b949e;
  --border-color: #30363d;
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 25px 50px rgba(0, 0, 0, 0.6);
  --primary-color: #3b82f6;
  --secondary-color: #10b981;
}

* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  padding: 0;
  font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--bg-light);
  color: var(--text-main);
  line-height: 1.6;
  transition: var(--transition-base);
  color-scheme: light dark;
}

.App {
  text-align: left;
  min-height: 100vh;
}

/* ==========================================================================
Layout Styles
========================================================================== */
.app-main-layout {
  min-height: 100vh;
  /* Ant Design Layout uses flexbox by default */
}

.app-sider {
  box-shadow: var(--shadow-md);
  z-index: 10;
  background: var(--bg-card);
  border-right: 1px solid var(--border-color);
}

.app-logo-container {
  height: clamp(50px, 8vw, 64px);
  margin: clamp(12px, 3vw, 16px);
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: var(--border-radius-sm);
  transition: var(--transition-base);
}

.app-logo-container:hover {
  transform: scale(1.02);
}

.app-logo-text {
  color: white;
  font-size: clamp(14px, 3vw, 18px);
  font-weight: 600;
  letter-spacing: 0.5px;
}

.app-content-layout {
  transition: var(--transition-base);
}

.app-header {
  padding: 0 16px !important; /* Fixed padding */
  background: var(--bg-card) !important;
  border-bottom: 1px solid var(--border-color);
  display: flex !important;
  justify-content: space-between;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 9;
  box-shadow: var(--shadow-sm);
  height: 64px;
}

.header-left-section {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 1;
    min-width: 0; /* Important for text truncation */
}

/* Mobile Menu Trigger */
.mobile-menu-trigger {
    display: none; /* Hidden by default on desktop */
    font-size: 18px;
    padding: 0 8px;
    width: 40px;
    height: 40px;
    display: flex; /* Override for now to test, but cleaner is to use media query */
    align-items: center;
    justify-content: center;
    border: none !important;
    background: transparent !important;
    box-shadow: none !important;
}

/* On Desktop, we might want to hide it if we only toggle persistent sidebar, 
   BUT user wants to move it there. So let's keep it visible or conditionally hide.
   For responsive Sidebar behavior (Drawer like), we usually show it on mobile. 
   If user wants to toggle on Desktop too, keep it.
*/
@media (min-width: 769px) {
    .mobile-menu-trigger {
        /* If you want to hide on desktop and use collapsible Sider logic properly: */
        /* display: none; */ 
        /* But Sider logic in App.jsx seems to use it for collapsing too. */
        display: flex; 
    }
}

.app-header-title {
  color: var(--primary-color) !important;
  font-size: clamp(16px, 4vw, 20px);
  font-weight: 500;
  text-decoration: none;
  transition: var(--transition-fast);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
  display: block;
}

.app-header-title:hover {
  color: var(--secondary-color);
}

.app-user-menu {
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: var(--border-radius-sm);
  transition: var(--transition-base);
  border: 1px solid transparent;
  flex-shrink: 0; /* Keep user menu intact */
}

.app-user-menu:hover {
  background: var(--border-color);
  border-color: var(--primary-color);
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.app-user-name {
  color: var(--text-main);
  font-weight: 500;
  font-size: 14px;
  display: block;
}

/* Hide user name on smaller screens to save space */
@media (max-width: 768px) {
    .app-user-name {
        display: none;
    }
}

.app-content-wrapper {
  margin: clamp(8px, 4vw, 24px) clamp(8px, 2vw, 16px);
  padding: clamp(16px, 5vw, 24px);
  background: var(--bg-card);
  min-height: 280px;
  border-radius: var(--border-radius-base);
  box-shadow: var(--shadow-md);
  transition: var(--transition-base);
}

.app-footer {
  text-align: center;
  padding: clamp(12px, 4vh, 16px) 0;
  color: var(--text-secondary);
  border-top: 1px solid var(--border-color);
}

/* Dashboard specific styles moved to src/pages/css/Dashboard.css */

/* Sidebar Collapse on Mobile - Keep global layout styles */
@media (max-width: 768px) {
  .app-sider {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    transform: translateX(-100%);
    transition: var(--transition-base);
    z-index: 1000;
  }
  
  .app-sider:not(.ant-layout-sider-collapsed) {
    transform: translateX(0);
  }
  
  .app-content-layout {
    margin-left: 0 !important;
    padding-top: 64px; /* Account for header height */
  }
  
  .mobile-menu-trigger {
      display: flex;
  }
}



/* ==========================================================================
Standard Page Templates
========================================================================== */
.page-container {
  height: 100%;
}

.page-header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: clamp(16px, 4vh, 24px);
  padding-bottom: 16px;
  border-bottom: 1px solid var(--border-color);
  flex-wrap: wrap;
  gap: 12px;
}

.page-title {
  font-size: clamp(20px, 5vw, 28px);
  margin: 0 !important;
  color: var(--text-main);
  font-weight: 600;
}

.page-action-bar {
  display: flex;
  gap: clamp(8px, 2vw, 16px);
  flex-wrap: wrap;
}

.search-input {
  max-width: clamp(200px, 25vw, 300px);
  width: 100%;
}

.stats-card {
  margin-bottom: clamp(16px, 3vh, 24px);
  box-shadow: var(--shadow-sm);
  border-radius: var(--border-radius-base);
  transition: var(--transition-base);
}

.stats-card:hover {
  box-shadow: var(--shadow-lg);
}

/* ==========================================================================
Utilities / Helpers
========================================================================== */
.loading-container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 60vh;
  min-height: 300px;
}

.mb-24 { margin-bottom: clamp(16px, 4vh, 24px); }
.mt-16 { margin-top: 16px; }
.p-50 { padding: clamp(24px, 10vh, 50px); }
.flex-gap-8 { display: flex; gap: 8px; flex-wrap: wrap; }
.flex-center { display: flex; justify-content: center; align-items: center; }
.full-width { width: 100% !important; }
.full-width-mobile { width: 100% !important; }
.text-success { color: var(--success-color); }
.text-danger { color: var(--danger-color); }
.text-primary { color: var(--primary-color); }
.mt-2 { margin-top: clamp(8px, 2vh, 16px); }
.mb-2 { margin-bottom: clamp(8px, 2vh, 16px); }

/* AntD Overrides & Statistics */
.ant-card {
  border-radius: var(--border-radius-base);
  box-shadow: var(--shadow-sm);
  border: 1px solid var(--border-color);
  transition: var(--transition-base);
}

.ant-card:hover {
  box-shadow: var(--shadow-xl);
  transform: translateY(-4px);
}

.stat-dark-green .ant-statistic-content-value { color: #3f8600 !important; }
.stat-primary .ant-statistic-content-value { color: var(--primary-color) !important; }
.stat-success .ant-statistic-content-value { color: var(--secondary-color) !important; }
.stat-warning .ant-statistic-content-value { color: var(--warning-color) !important; }
.stat-danger .ant-statistic-content-value { color: var(--danger-color) !important; }

.ant-table-wrapper {
  background: var(--bg-card);
  border-radius: var(--border-radius-base);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
}

/* ==========================================================================
Responsive Design Breakpoints
========================================================================== */
@media (max-width: 480px) {
  .app-header {
    /* flex-direction: column; -- Don't do this anymore, keep row for header */
    padding: 0 12px !important;
  }
  
  .page-header-row {
    flex-direction: column;
    text-align: center;
    gap: 12px;
  }
  
  .page-action-bar {
    justify-content: center;
    width: 100%;
  }
  
  .page-title {
    font-size: 20px;
    margin-bottom: 8px !important;
  }
  
  .app-content-wrapper {
    margin: 4px;
    padding: 12px;
  }
}

@media (max-width: 576px) {
  .page-header-container {
    margin-bottom: 12px;
  }
}

@media (max-width: 768px) {
  .app-content-wrapper {
    margin: 8px;
    padding: 16px;
  }
  
  .stats-card, .ant-table-wrapper {
    margin-bottom: 16px;
  }
  
  .search-input {
    max-width: 100%;
  }
}

@media (min-width: 577px) {
  /* Global responsive styles if any */
}

@media (min-width: 1200px) {
  .app-main-layout {
    max-width: 1600px;
    margin: 0 auto;
  }
  
  .app-content-wrapper {
    max-width: 1400px;
    margin: 0 auto;
  }
}

/* High DPI / Large Screens */
@supports (selector(:focus-visible)) {
  .app-user-menu:focus-visible {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
  }
}
